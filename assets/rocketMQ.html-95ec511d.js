import{_ as n,r as t,o as i,c as r,b as a,d as e,e as o,a as l}from"./app-c9408cad.js";const c={},d=a("h2",{id:"下载",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#下载","aria-hidden":"true"},"#"),e(" 下载")],-1),p={href:"https://archive.apache.org/dist/rocketmq/4.9.4/rocketmq-all-4.9.4-bin-release.zip",target:"_blank",rel:"noopener noreferrer"},u=l(`<h2 id="环境变量" tabindex="-1"><a class="header-anchor" href="#环境变量" aria-hidden="true">#</a> 环境变量</h2><p>ROCKETMQ_HOME：填写解压的路径</p><p>NAMESRV_ADDR：localhost:9876 示例需要用到</p><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h2><p>进入解压后的/bin 文件夹</p><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sh</span> bin/mqnamesrv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sh</span> bin/mqbroker <span class="token parameter variable">-n</span> localhost:9876
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> Windows</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mqnamesrv.cmd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mqbroker.cmd <span class="token parameter variable">-n</span> <span class="token number">127.0</span>.0.1:9876 <span class="token assign-left variable">autoCreateTopicEnable</span><span class="token operator">=</span>true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>测试</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>// 测试
tools.cmd org.apache.rocketmq.example.quickstart.Producer  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>// 测试
tools.cmd org.apache.rocketmq.example.quickstart.Consumer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="引入pom" tabindex="-1"><a class="header-anchor" href="#引入pom" aria-hidden="true">#</a> 引入pom</h2><p>Springboot项目</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.rocketmq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>rocketmq-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><p>实现RocketMQ发送</p><ol><li><p>引入rocketMQy依赖</p></li><li><p>需要像redis一样引入一个rocketMQTemplate进行消息的发送</p></li></ol></li><li><p>实现RocketMQ接收</p><ol><li><p>需要新建一个专门的接受消息的类，加上注解@RocketMQMessageListener并指明监听的group和topic</p></li><li><p>实现onMessage方法处理消息</p></li></ol></li></ol><h2 id="dashboard" tabindex="-1"><a class="header-anchor" href="#dashboard" aria-hidden="true">#</a> Dashboard</h2><h2 id="踩坑" tabindex="-1"><a class="header-anchor" href="#踩坑" aria-hidden="true">#</a> 踩坑</h2><ol><li>如果环境是Windows、jdk版本大于8、rocketmq.jar版本小于5，需在配置文件中将runbroker和runserver的java的GC配置项删除，例如 <em>UseConcMarkSweepGC</em> 、<em>PrintGCDetails</em> 整行配置都注释或者删除，否则启动会报版本不支持的错误</li><li>在springboot3项目中，spring.factories被移除，替代方案为META-INFO/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports，在resources目录下创建</li></ol>`,21);function h(m,g){const s=t("ExternalLinkIcon");return i(),r("div",null,[d,a("p",null,[a("a",p,[e("下载"),o(s)]),e(" 并解压")]),u])}const v=n(c,[["render",h],["__file","rocketMQ.html.vue"]]);export{v as default};
